(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ce519f2e"],{"19fc":function(e,t,n){},"48be":function(e,t,n){"use strict";n("19fc")},b775:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));n("caad"),n("2532"),n("d3b7");var a=n("bc3a"),c=n.n(a),r=n("a18c"),o=c.a.create({baseURL:"./mgr/WeBASE-Node-Manager/",timeout:6e4});o.defaults.headers.post["X-Requested-With"]="XMLHttpRequest",o.defaults.responseType="json",o.defaults.validateStatus=function(){return!0},o.interceptors.response.use((function(e){return e.data&&302e3===e.data.code&&r["a"].push({path:"/login",query:{redirect:r["a"].currentRoute.fullPath}}),!e.data||202052!==e.data.code&&202053!==e.data.code||r["a"].push({path:"/login"}),e}),(function(e){return"Error: Network Error"==e&&r["a"].push({path:"/login"}),e.message.includes("timeout")&&("en"===localStorage.getItem("lang")?e.data="Timeout":e.data="请求超时"),Promise.reject(e)}));function i(e){return new Promise((function(t,n){o(e).then((function(e){t(e)})).catch((function(e){n(e)}))}))}function s(e){return new Promise((function(t,n){o(e).then((function(e){t(e)})).catch((function(e){n(e)}))}))}},b981:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),c=Object(a["P"])("data-v-d65d9c98");Object(a["A"])("data-v-d65d9c98");var r={class:"overview-item-base"},o={class:"item"},i=Object(a["i"])("div",{class:"key"},"节点ID",-1),s={style:{overflow:"hidden","text-overflow":"ellipsis","padding-right":"5px"}},u={class:"item"},d=Object(a["i"])("div",{class:"key"},"块高",-1),l={style:{overflow:"hidden","text-overflow":"ellipsis"}},f={class:"item"},b=Object(a["i"])("div",{class:"key"},"pbftView",-1),p={style:{overflow:"hidden","text-overflow":"ellipsis"}},v={class:"item"},h=Object(a["i"])("div",{class:"key"},"运行状态",-1),j={style:{overflow:"hidden","text-overflow":"ellipsis"}},O={style:{"margin-left":"4px"}};Object(a["y"])();var m=c((function(e,t,n,m,g,k){var w=Object(a["E"])("van-list");return Object(a["x"])(),Object(a["f"])("div",null,[Object(a["i"])(w,{loading:e.loading,"onUpdate:loading":t[1]||(t[1]=function(t){return e.loading=t}),finished:e.finished,"finished-text":"没有更多了",onLoad:m.onLoad,offset:20,"immediate-check":!1},{default:c((function(){return[Object(a["i"])("div",r,[(Object(a["x"])(!0),Object(a["f"])(a["a"],null,Object(a["D"])(e.nodeData,(function(e){return Object(a["x"])(),Object(a["f"])("div",{class:"block-item",key:e.nodeId},[Object(a["i"])("div",o,[i,Object(a["i"])("div",s,Object(a["H"])(e.nodeId),1),Object(a["i"])("span",{class:"copy-key",onClick:function(t){return k.handleCopy(e.nodeId,t)}},"复制",8,["onClick"])]),Object(a["i"])("div",u,[d,Object(a["i"])("div",l,Object(a["H"])(e.blockNumber),1)]),Object(a["i"])("div",f,[b,Object(a["i"])("div",p,Object(a["H"])(e.pbftView),1)]),Object(a["i"])("div",v,[h,Object(a["i"])("div",j,[Object(a["i"])("span",{class:"circle-dot",style:{background:k.textColor(e.nodeActive)}},null,4),Object(a["i"])("span",O,Object(a["H"])(k.nodesStatus(e.nodeActive)),1)])])])})),128))])]})),_:1},8,["loading","finished","onLoad"])])})),g=n("5530"),k=n("1da1"),w=(n("99af"),n("96cf"),n("b775")),y=n("ca00");function x(e,t){var n=Object(y["e"])(e,t);return Object(w["a"])({url:"node/nodeList/".concat(n.str),method:"get",params:n.querys,headers:{AuthorizationToken:"Token "+localStorage.getItem("token")||!1}})}var C=n("f71e"),D=n("d399"),I={name:"TxInfo",setup:function(){var e=Object(a["C"])(+sessionStorage.getItem("groupId")),t=Object(a["B"])({loading:!1,finished:!1,nodeData:[],reqData:{groupId:e.value,pageNumber:1,pageSize:7},reqQuery:{}}),n=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x(t.reqData,t.reqQuery);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(k["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:a=e.sent,t.loading=!1,0===a.code?(t.nodeData=t.nodeData.concat(a.data),console.log(t.nodeData,a.data),t.nodeData.length>=a.totalCount&&(t.finished=!0)):D["b"].fail(a.message);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){t.reqData.pageNumber+=1,c()};return Object(a["u"])((function(){c()})),Object(g["a"])(Object(g["a"])({},Object(a["I"])(t)),{},{onLoad:r})},methods:{toBlockDetail:function(e){this.$router.push({path:"block",query:{blockNumber:e.blockNumber,blockTimestamp:e.blockTimestamp}})},handleCopy:function(e,t){Object(C["a"])(e,t)},nodesStatus:function(e){var t="";switch(e){case 1:t="运行";break;case 2:t="异常";break;case 3:t="启动中";break;case 4:t="停止";break}return t},textColor:function(e){var t="";switch(e){case 1:t="#67C23A";break;case 2:t="#F56C6C";break;case 2:t="#E6A23C";break;case 2:t="#909399";break}return t}}};n("48be");I.render=m,I.__scopeId="data-v-d65d9c98";t["default"]=I},f71e:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("b311"),c=n.n(a),r=n("d399");function o(){r["b"].success("复制成功")}function i(){r["b"].fail("复制失败，请手动选择复制")}function s(e,t){var n=new c.a(t.target,{text:function(){return e}});n.on("success",(function(){o(),n.destroy()})),n.on("error",(function(){i(),n.destroy()})),n.onClick(t)}}}]);